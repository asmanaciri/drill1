// arrays

#include "std_lib_facilities.h"

// 1 Define a global int array
int ga[10] = { 1, 2, 4, 8, 16, 32, 64, 128, 256, 512 };

//function f that takes array and number of elements
void f(int ai[], int n)
{
    //ai = array instance
    //la = local array
    int la[10] = { };// define local array
    for (int i = 0; i < n; ++i) la[i] = ai[i]; //assign la array to all elements of ai array - ai array is a parameter(printing values)

    cout << "Local copy\n";
    for (const auto& a : la)
        cout << a << ' ';
    cout << '\n';

    //allocated n spaces in memory to create array p - a pointer can be dealt with as an array too
    int* p = new int[n]; //new int[n] = allocated number of bytes n in memory
    for (int i = 0; i < n; ++i) p[i] = ai[i];// copy argumented arr

    cout << "Pointer to free store\n";//printing
    for (int i = 0; i < n; ++i)
        cout << p[i] << ' ';
    cout << '\n';

    delete[] p; //deallocating array to prevent memory leak
}

int fac(int n) { return n > 1 ? n * fac(n - 1) : 1; } //function to get factorial

int main()
try {
    
    cout << "Binary array\n";
    f(ga, 10);

    int aa[10] = {};
    for (int i = 0; i < 10; ++i)
        aa[i] = fac(i + 1);

    cout << "Factorial array\n";
    f(aa, 10);
}
catch (exception& e) {
    cerr << "Exception: " << e.what() << '\n';
    return 1;
}
catch (...) {
    cerr << "Unknown exception\n";
    return 2;
}

//******************************************************

// vectors
#include "std_lib_facilities.h"
// global array
vector<int> gv ={1,2,4,8,16,32,64,128,256,512};

void f(vector <int> v)
{
	// define local vector 1
	vector <int> lv;
	//copying values
	for (int i = 0;i < v.size();i++)
		lv.push_back(gv[i]);
	//printing values
	for (int i = 0;i < lv.size();i++)
		cout<<lv[i]<<" ";
	// printing
	cout << endl;
	// define local vector 2
	vector <int> lv2;
	//copying values
	for (int i = 0;i < v.size();i++)
		lv2.push_back( v[i]);
	//printing values
	for (int i = 0;i < lv2.size();i++)
		cout << lv2[i] << " ";
	cout << endl;
}
int main()
{
	f(gv);
	vector <int> vv = {1,2,6,24,120,720,5040,40320,362880,3628800};
	f(vv);

	
	return 0;
}
	
	
