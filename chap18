// arrays

#include "std_lib_facilities.h"

// 1 Define a global int array
int ga[10] = { 1, 2, 4, 8, 16, 32, 64, 128, 256, 512 };

//function f that takes array and number of elements
void f(int ai[], int n)
{
    //ai = array instance
    //la = local array
    int la[10] = { };// define local array
    for (int i = 0; i < n; ++i) la[i] = ai[i]; //assign la array to all elements of ai array - ai array is a parameter(printing values)

    cout << "Local copy\n";
    for (const auto& a : la)
        cout << a << ' ';
    cout << '\n';

    //allocated n spaces in memory to create array p - a pointer can be dealt with as an array too
    int* p = new int[n]; //new int[n] = allocated number of bytes n in memory
    for (int i = 0; i < n; ++i) p[i] = ai[i];// copy argumented arr

    cout << "Pointer to free store\n";//printing
    for (int i = 0; i < n; ++i)
        cout << p[i] << ' ';
    cout << '\n';

    delete[] p; //deallocating array to prevent memory leak
}

int fac(int n) { return n > 1 ? n * fac(n - 1) : 1; } //function to get factorial

int main()
try {
    
    cout << "Binary array\n";
    f(ga, 10);

    int aa[10] = {};
    for (int i = 0; i < 10; ++i)
        aa[i] = fac(i + 1);

    cout << "Factorial array\n";
    f(aa, 10);
}
catch (exception& e) {
    cerr << "Exception: " << e.what() << '\n';
    return 1;
}
catch (...) {
    cerr << "Unknown exception\n";
    return 2;
}

//******************************************************

// vectors
#include "std_lib_facilities.h"

#include<iostream>
#include<vector>
using namespace std;


//part 1
vector<int> gv = { 1, 2, 4, 8, 16, 32, 64, 128, 256, 512 };

//part 2
void f(vector<int>& v)
{
	//part 3.a
	vector<int> lv(10);

	//part 3.b
	lv = v;

	//part 3.c
	cout<<"lv: ";
	for (int i : lv)
		cout << i << ", ";
	cout << endl;

	//part 3.d
	vector<int> lv2 = v;

	//part 3.e
	for(int i : lv2)
		cout << i << ", ";
	cout << endl;
}


int fact(int n)
{
	return n > 1 ? n*(fact(n - 1)) : 1;
}


int main()
{
	//part 4.a
	f(gv);

	//part 4.b
	vector<int> vv = { 1, fact(2), fact(3), fact(4), fact(5), fact(6), fact(7), fact(8), fact(9), fact(10) };

	//part 4.c
	f(vv);

	return 0;
  }
